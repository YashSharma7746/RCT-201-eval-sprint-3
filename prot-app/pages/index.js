import Head from 'next/head'
import Image from 'next/image'
import styles from '../styles/Home.module.css'
import Projects from './projects';

export default function Home({resdata}) {
  let company = resdata.company.split("  ");
  return (
    <div className={styles.container}>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <div style={{display:"grid",gridTemplateColumns:"20% 75%",gap:"2rem"}}>
        <div style={{display:"grid",gridTemplateColumns:"repeat(1,1fr)",gap:"15px",marginTop:"15px"}}>
          <div style={{padding:"10px",backgroundColor:"teal",display:"grid",justifyContent:"center",borderRadius:"10px",alignItems:"center",textAlign:"center"}}>
            <a href='https://github.com/YashSharma7746' target="_blank" rel="noopener noreferrer">
              <img src={resdata.avatar_url} width="130px" style={{borderRadius:"30px"}}/>
              <h2 style={{cursor:"pointer"}}>{resdata.name}</h2>
              <h6 style={{cursor:"pointer"}}>@{resdata.login}</h6>
              <h5>{resdata.bio}</h5>
              <button style={{marginRight:"10px"}} onClick={()=>window.location.href="https://drive.google.com/file/d/12KG196k9HnGYQOGpGQd5VRvXMvsZx-KX/view"}>Resume</button>
              <button>Follow</button>
            </a>
          </div>
          <div style={{display:"grid",gridTemplateColumns:"repeat(3,1fr)",gap:"8px",padding:"10px",backgroundColor:"teal",borderRadius:"10px",textAlign:"center"}}>
            <p style={{backgroundColor:"grey"}}>REACTJS</p>
            <p style={{backgroundColor:"grey"}}>JAVASCRIPT</p>
            <p style={{backgroundColor:"grey"}}>CHAKRA UI</p>
            <p style={{backgroundColor:"grey"}}>REDUX</p>
            <p style={{backgroundColor:"grey"}}>HTML</p>
            <p style={{backgroundColor:"grey"}}>CSS</p>
          </div>
          <div style={{display:"grid",gridTemplateColumns:"repeat(1,1fr)",padding:"10px",borderRadius:"10px",textAlign:"center",backgroundColor:"teal"}}>
            {company.map((item,i)=>{
              return <h3 key={item} style={{backgroundColor:"grey",borderRadius:"7px",padding:"3px"}}>{i+1} - {item}</h3>
            })}
          </div>
        </div>
        <div>
          <Projects/>
        </div>
      </div>
    </div>
  )
}

export async function getStaticProps(){
  let res = await fetch("https://api.github.com/users/YashSharma7746");
  let data = await res.json();
  return {
    props: {
      resdata:data
    }
  }
}